
> amica@0.1.0 build
> npm run generate:paths && npm run build:workers && NEXT_TELEMETRY_DISABLED=1 NODE_OPTIONS="--max-old-space-size=4096" next build


> amica@0.1.0 generate:paths
> node scripts/generate_paths.js


> amica@0.1.0 build:workers
> npm run build:worker:generateMeshBVH


> amica@0.1.0 build:worker:generateMeshBVH
> esbuild src/workers/bvh/generateMeshBVH.worker.js --bundle --minify --sourcemap --outfile=public/generateMeshBVH.worker.js


  public/generateMeshBVH.worker.js      296.3kb
  public/generateMeshBVH.worker.js.map    1.8mb

⚡ Done in 61ms
  ▲ Next.js 14.2.28
  - Environments: .env.local
  - Experiments (use with caution):
    · turbo
    · instrumentationHook
    · adjustFontFallbacks

   Linting and checking validity of types ...

./src/components/alert.tsx
31:6  Warning: React Hook useEffect has a missing dependency: 'alert.notifications'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./src/components/embeddedWebcam.tsx
59:6  Warning: React Hook useEffect has a missing dependency: 'setWebcamEnabled'. Either include it or remove the dependency array. If 'setWebcamEnabled' changes too often, find the parent component that defines it and wrap that definition in useCallback.  react-hooks/exhaustive-deps
119:13  Warning: Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element

./src/components/flexTextarea/flexTextarea.tsx
54:6  Warning: React Hook useEffect has missing dependencies: 'onChange' and 'value'. Either include them or remove the dependency array. If 'onChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.  react-hooks/exhaustive-deps

./src/components/githubLink.tsx
12:9  Warning: Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element

./src/components/loadingProgress.tsx
33:6  Warning: React Hook useEffect has a missing dependency: 'progressCnt'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./src/components/messageInput.tsx
185:6  Warning: React Hook useEffect has a missing dependency: 'handleTranscriptionResult'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps
193:6  Warning: React Hook useEffect has a missing dependency: 'handleTranscriptionResult'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps
201:6  Warning: React Hook useEffect has a missing dependency: 'handleTranscriptionResult'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./src/components/settings/AmicaLifePage.tsx
88:12  Warning: React Hook useCallback has missing dependencies: 'amicaLife', 'setIdleTextPrompt', and 'setSettingsUpdated'. Either include them or remove the dependency array. If 'setIdleTextPrompt' changes too often, find the parent component that defines it and wrap that definition in useCallback.  react-hooks/exhaustive-deps

./src/components/settings/BackgroundImgPage.tsx
41:15  Warning: Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element

./src/components/settings/CharacterModelPage.tsx
66:17  Warning: Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element

./src/components/settings/ExternalAPIPage.tsx
33:8  Warning: React Hook useEffect has a missing dependency: 'bot'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./src/components/settings/LocalXTTSSettingsPage.tsx
150:8  Warning: React Hook useEffect has missing dependencies: 'checkServerStatus', 'fetchRvcVoices', 'fetchVoices', 'rvcVoices', and 'voices'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps

./src/components/settings.tsx
224:5  Warning: React Hook useCallback has a missing dependency: 'vrmListAddFile'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps
278:6  Warning: React Hook useEffect has a missing dependency: 'settingsUpdated'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps
344:6  Warning: React Hook useEffect has a missing dependency: 'onClickClose'. Either include it or remove the dependency array. If 'onClickClose' changes too often, find the parent component that defines it and wrap that definition in useCallback.  react-hooks/exhaustive-deps

./src/components/vrmDemo.tsx
55:4  Warning: React Hook useCallback has missing dependencies: 'onError', 'onLoaded', and 'onScreenShot'. Either include them or remove the dependency array. If 'onLoaded' changes too often, find the parent component that defines it and wrap that definition in useCallback.  react-hooks/exhaustive-deps

./src/components/vrmViewer.tsx
125:6  Warning: React Hook useEffect has missing dependencies: 'cacheWebVrm', 'getCurrentVrm', and 'viewer'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps
212:5  Warning: React Hook useCallback has missing dependencies: 'getCurrentVrm', 'isLoadingVrmList', 'isVrmLocal', 'showModelWithAnimation', and 'vrmListAddFile'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps
213:7  Warning: React Hook useCallback has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.  react-hooks/exhaustive-deps

./src/features/moshi/components/Moshi.tsx
127:8  Warning: React Hook useEffect has a missing dependency: 'setAssistantText'. Either include it or remove the dependency array. If 'setAssistantText' changes too often, find the parent component that defines it and wrap that definition in useCallback.  react-hooks/exhaustive-deps

./src/features/moshi/hooks/useWebsocket.ts
23:8  Warning: React Hook useEffect has missing dependencies: 'onClose', 'onMessage', 'onOpen', 'stopAllAction', and 'url'. Either include them or remove the dependency array. If 'stopAllAction' changes too often, find the parent component that defines it and wrap that definition in useCallback.  react-hooks/exhaustive-deps

./src/hooks/useKeyboardShortcut.ts
20:6  Warning: React Hook useEffect has missing dependencies: 'callback', 'ctrlKey', and 'key'. Either include them or remove the dependency array. If 'callback' changes too often, find the parent component that defines it and wrap that definition in useCallback.  react-hooks/exhaustive-deps

./src/hooks/useTranscriber.ts
160:6  Warning: React Hook useMemo has a missing dependency: 'onInputChange'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./src/pages/_document.tsx
35:9  Warning: Do not include stylesheets manually. See: https://nextjs.org/docs/messages/no-css-tags  @next/next/no-css-tags

./src/pages/import/[sqid]/index.tsx
285:17  Warning: Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element
285:17  Warning: img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.  jsx-a11y/alt-text

./src/pages/index.tsx
200:6  Warning: React Hook useEffect has a missing dependency: 'muted'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps
359:6  Warning: React Hook useEffect has missing dependencies: 'alert' and 'amicaLife'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps
368:6  Warning: React Hook useEffect has a missing dependency: 'chatSpeaking'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./src/pages/share.tsx
126:6  Warning: React Hook useEffect has missing dependencies: 'vrmHash' and 'vrmUrl'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps
343:17  Warning: Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element  @next/next/no-img-element
343:17  Warning: img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.  jsx-a11y/alt-text

info  - Need to disable some ESLint rules? Learn more here: https://nextjs.org/docs/basic-features/eslint#disabling-rules
   Creating an optimized production build ...
 ✓ (pwa) Compiling for server...
 ✓ (pwa) Compiling for server...
 ✓ (pwa) Compiling for client (static)...
 ○ (pwa) Service worker: /home/purestory/amica/public/sw.js
 ○ (pwa)   URL: /sw.js
 ○ (pwa)   Scope: /
 ○ (pwa) Custom runtimeCaching array found, using it to extend the default one.
[@sentry/nextjs] The Sentry SDK has enabled source map generation for your Next.js app. If you don't want to serve Source Maps to your users, either set the `sourcemaps.deleteSourcemapsAfterUpload` option to true, or manually delete the source maps after the build. In future Sentry SDK versions `sourcemaps.deleteSourcemapsAfterUpload` will default to `true`. If you do not want to generate and upload sourcemaps, set the `sourcemaps.disable` option in `withSentryConfig()`.
Failed to compile.

src_workers_whisper_js.js from Terser
  x 'import', and 'export' cannot be used outside of module code
   ,-[1:1]
 1 | /* eslint-disable camelcase */
 2 | import { pipeline, env } from "@xenova/transformers";
   : ^^^^^^
 3 | import { fetchAndCacheWasm } from "../utils/wasmCacheDB";
 4 | 
 5 | // Disable local models
   `----

Caused by:
    0: failed to parse input file
    1: Syntax Error
Error: 
  x 'import', and 'export' cannot be used outside of module code
   ,-[1:1]
 1 | /* eslint-disable camelcase */
 2 | import { pipeline, env } from "@xenova/transformers";
   : ^^^^^^
 3 | import { fetchAndCacheWasm } from "../utils/wasmCacheDB";
 4 | 
 5 | // Disable local models
   `----

Caused by:
    0: failed to parse input file
    1: Syntax Error

src_workers_whisper_js.js from Terser
  x 'import', and 'export' cannot be used outside of module code
   ,-[1:1]
 1 | /* eslint-disable camelcase */
 2 | import { pipeline, env } from "@xenova/transformers";
   : ^^^^^^
 3 | import { fetchAndCacheWasm } from "../utils/wasmCacheDB";
 4 | 
 5 | // Disable local models
   `----

Caused by:
    0: failed to parse input file
    1: Syntax Error
Error: 
  x 'import', and 'export' cannot be used outside of module code
   ,-[1:1]
 1 | /* eslint-disable camelcase */
 2 | import { pipeline, env } from "@xenova/transformers";
   : ^^^^^^
 3 | import { fetchAndCacheWasm } from "../utils/wasmCacheDB";
 4 | 
 5 | // Disable local models
   `----

Caused by:
    0: failed to parse input file
    1: Syntax Error


> Build failed because of webpack errors
